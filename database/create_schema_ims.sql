-- Generated by Oracle SQL Developer Data Modeler 24.3.1.351.0831
--   at:        2025-12-01 11:40:28 PST
--   site:      Oracle Database 21c
--   type:      Oracle Database 21c



DROP TABLE IMS_ANALYSIS_RESULTS CASCADE CONSTRAINTS 
;

DROP TABLE IMS_ANALYSIS_TYPES CASCADE CONSTRAINTS 
;

DROP TABLE IMS_CURRENCY_TYPES CASCADE CONSTRAINTS 
;

DROP TABLE IMS_DIVIDENDS CASCADE CONSTRAINTS 
;

DROP TABLE IMS_EARNINGS CASCADE CONSTRAINTS 
;

DROP TABLE IMS_EXCHANGES CASCADE CONSTRAINTS 
;

DROP TABLE IMS_HIST_MKT_DATA CASCADE CONSTRAINTS 
;

DROP TABLE IMS_INVESTMENTS CASCADE CONSTRAINTS 
;

DROP TABLE IMS_LISTED_TO_NYSE CASCADE CONSTRAINTS 
;

DROP TABLE IMS_LOAD_DONE CASCADE CONSTRAINTS 
;

DROP TABLE IMS_LOAD_TODOS CASCADE CONSTRAINTS 
;

DROP TABLE IMS_OVRNGHT_HLDG_DETAILS CASCADE CONSTRAINTS 
;

DROP TABLE IMS_OVRNGHT_HLDG_SUMMARIES CASCADE CONSTRAINTS 
;

DROP TABLE IMS_PRICE_COMPARISON CASCADE CONSTRAINTS 
;

DROP TABLE IMS_SECTORS CASCADE CONSTRAINTS 
;

DROP TABLE IMS_STREAK_DETAILS CASCADE CONSTRAINTS 
;

DROP TABLE IMS_STREAK_SUMMARIES CASCADE CONSTRAINTS 
;

DROP TABLE IMS_TRADE_OPPS CASCADE CONSTRAINTS 
;

-- predefined type, no DDL - MDSYS.SDO_GEOMETRY

-- predefined type, no DDL - XMLTYPE

CREATE TABLE IMS_ANALYSIS_RESULTS 
    ( 
     IAR_IAT_TYPE   VARCHAR2 (10 CHAR)  NOT NULL , 
     IAR_INV_TICKER VARCHAR2 (30 CHAR)  NOT NULL , 
     IAR_DATE       DATE  NOT NULL , 
     IAR_VALUE1     NUMBER (24,4) , 
     IAR_VALUE2     NUMBER (24,4) , 
     IAR_VALUE3     NUMBER (24,4) , 
     IAR_VALUE4     NUMBER (24,4) , 
     IAR_VALUE5     NUMBER (24,4) , 
     IAR_VALUE6     NUMBER (24,4) , 
     IAR_VALUE7     NUMBER (24,4) , 
     IAR_VALUE8     NUMBER (24,4) , 
     IAR_VALUE9     NUMBER (24,4) , 
     IAR_VALUE10    NUMBER (24,4) , 
     IAR_VALUE11    NUMBER (24,4) , 
     IAR_VALUE12    NUMBER (24,4) 
    ) 
;
CREATE INDEX IAR_IAT_FK_IDX ON IMS_ANALYSIS_RESULTS 
    ( 
     IAR_IAT_TYPE ASC 
    ) 
;
CREATE INDEX IAR_INV_FK_IDX ON IMS_ANALYSIS_RESULTS 
    ( 
     IAR_INV_TICKER ASC 
    ) 
;
CREATE UNIQUE INDEX IAR_PK_IDX ON IMS_ANALYSIS_RESULTS 
    ( 
     IAR_IAT_TYPE ASC , 
     IAR_INV_TICKER ASC , 
     IAR_DATE ASC 
    ) 
;

ALTER TABLE IMS_ANALYSIS_RESULTS 
    ADD CONSTRAINT IAR_PK PRIMARY KEY ( IAR_IAT_TYPE, IAR_INV_TICKER, IAR_DATE ) ;

CREATE TABLE IMS_ANALYSIS_TYPES 
    ( 
     IAT_TYPE  VARCHAR2 (10 CHAR)  NOT NULL , 
     IAT_DESCR VARCHAR2 (45 CHAR)  NOT NULL 
    ) 
;
CREATE UNIQUE INDEX IAT_PK_IDX ON IMS_ANALYSIS_TYPES 
    ( 
     IAT_TYPE ASC 
    ) 
;

ALTER TABLE IMS_ANALYSIS_TYPES 
    ADD CONSTRAINT IAT_PK PRIMARY KEY ( IAT_TYPE ) ;

CREATE TABLE IMS_CURRENCY_TYPES 
    ( 
     CTY_SYMBOL VARCHAR2 (15 CHAR)  NOT NULL , 
     CTY_NAME   VARCHAR2 (20 CHAR) 
    ) 
;
CREATE UNIQUE INDEX AVA.CTY_PK_IDX ON IMS_CURRENCY_TYPES 
    ( 
     CTY_SYMBOL ASC 
    ) 
;

ALTER TABLE IMS_CURRENCY_TYPES 
    ADD CONSTRAINT CTY_PK PRIMARY KEY ( CTY_SYMBOL ) ;

CREATE TABLE IMS_DIVIDENDS 
    ( 
     DIV_INV_TICKER     VARCHAR2 (30 CHAR)  NOT NULL , 
     DIV_REPORT_TYPE    VARCHAR2 (5 CHAR)  NOT NULL , 
     DIV_AS_OF_DATE     DATE  NOT NULL , 
     DIV_PERIOD         VARCHAR2 (10 CHAR)  NOT NULL , 
     DIV_PER_SHARE      NUMBER (24,4) , 
     DIV_EXDIV_DATE     DATE , 
     DIV_EXDIV_VERIFIED VARCHAR2 (1 CHAR) 
    ) 
;
CREATE INDEX DIV_INV_FK_IDX ON IMS_DIVIDENDS 
    ( 
     DIV_INV_TICKER ASC 
    ) 
;
CREATE UNIQUE INDEX DIV_PK_IDX ON IMS_DIVIDENDS 
    ( 
     DIV_INV_TICKER ASC , 
     DIV_REPORT_TYPE ASC , 
     DIV_AS_OF_DATE ASC , 
     DIV_PERIOD ASC 
    ) 
;

ALTER TABLE IMS_DIVIDENDS 
    ADD CONSTRAINT DIV_PK PRIMARY KEY ( DIV_INV_TICKER, DIV_REPORT_TYPE, DIV_AS_OF_DATE, DIV_PERIOD ) ;

CREATE TABLE IMS_EARNINGS 
    ( 
     EAR_INV_TICKER  VARCHAR2 (30 CHAR)  NOT NULL , 
     EAR_REPORT_TYPE VARCHAR2 (5 CHAR)  NOT NULL , 
     EAR_AS_OF_DATE  DATE  NOT NULL , 
     EAR_PERIOD      VARCHAR2 (10 CHAR)  NOT NULL , 
     EAR_PER_SHARE   NUMBER (24,4) 
    ) 
;
CREATE INDEX EAR_INV_FK_IDX ON IMS_EARNINGS 
    ( 
     EAR_INV_TICKER ASC 
    ) 
;
CREATE UNIQUE INDEX EAR_PK_IDX ON IMS_EARNINGS 
    ( 
     EAR_INV_TICKER ASC , 
     EAR_REPORT_TYPE ASC , 
     EAR_AS_OF_DATE ASC , 
     EAR_PERIOD ASC 
    ) 
;

ALTER TABLE IMS_EARNINGS 
    ADD CONSTRAINT EAR_PK PRIMARY KEY ( EAR_INV_TICKER, EAR_REPORT_TYPE, EAR_AS_OF_DATE, EAR_PERIOD ) ;

CREATE TABLE IMS_EXCHANGES 
    ( 
     EXC_SYMBOL      VARCHAR2 (20 CHAR)  NOT NULL , 
     EXC_NAME        VARCHAR2 (45 CHAR)  NOT NULL , 
     EXC_IB_EXCHANGE VARCHAR2 (30 CHAR) , 
     EXC_IB_PRIMARY  VARCHAR2 (30 CHAR) 
    ) 
;
CREATE UNIQUE INDEX AVA.EXC_PK_IDX ON IMS_EXCHANGES 
    ( 
     EXC_SYMBOL ASC 
    ) 
;

ALTER TABLE IMS_EXCHANGES 
    ADD CONSTRAINT EXC_PK PRIMARY KEY ( EXC_SYMBOL ) ;

CREATE TABLE IMS_HIST_MKT_DATA 
    ( 
     HMD_INV_TICKER           VARCHAR2 (30 CHAR)  NOT NULL , 
     HMD_START_DATETIME       DATE  NOT NULL , 
     HMD_END_DATETIME         DATE  NOT NULL , 
     HMD_FREQ_TYPE            VARCHAR2 (10 CHAR)  NOT NULL , 
     HMD_START_BID_PRICE      NUMBER (24,4) , 
     HMD_HIGHEST_BID_PRICE    NUMBER (24,4) , 
     HMD_LOWEST_BID_PRICE     NUMBER (24,4) , 
     HMD_LAST_BID_PRICE       NUMBER (24,4) , 
     HMD_START_ASK_PRICE      NUMBER (24,4) , 
     HMD_HIGHEST_ASK_PRICE    NUMBER (24,4) , 
     HMD_LOWEST_ASK_PRICE     NUMBER (24,4) , 
     HMD_LAST_ASK_PRICE       NUMBER (24,4) , 
     HMD_FIRST_TRADED_PRICE   NUMBER (24,4) , 
     HMD_HIGHEST_TRADED_PRICE NUMBER (24,4) , 
     HMD_LOWEST_TRADED_PRICE  NUMBER (24,4) , 
     HMD_LAST_TRADED_PRICE    NUMBER (24,4) , 
     HMD_TOTAL_TRADED_VOLUME  NUMBER (24,4) 
    ) 
;
CREATE INDEX AVA.HMD_DATES_IDX ON IMS_HIST_MKT_DATA 
    ( 
     HMD_START_DATETIME ASC , 
     HMD_END_DATETIME ASC 
    ) 
;
CREATE UNIQUE INDEX AVA.HMD_PK_IDX ON IMS_HIST_MKT_DATA 
    ( 
     HMD_INV_TICKER ASC , 
     HMD_START_DATETIME ASC , 
     HMD_END_DATETIME ASC , 
     HMD_FREQ_TYPE ASC 
    ) 
;

ALTER TABLE IMS_HIST_MKT_DATA 
    ADD CONSTRAINT HMD_PK PRIMARY KEY ( HMD_INV_TICKER, HMD_START_DATETIME, HMD_END_DATETIME, HMD_FREQ_TYPE ) ;

CREATE TABLE IMS_INVESTMENTS 
    ( 
     INV_TICKER                VARCHAR2 (30 CHAR)  NOT NULL , 
     INV_EXC_SYMBOL            VARCHAR2 (20 CHAR)  NOT NULL , 
     INV_NAME                  VARCHAR2 (100 CHAR)  NOT NULL , 
     INV_IB_TICKER             VARCHAR2 (30 CHAR) , 
     INV_SEC_NAME              VARCHAR2 (50 CHAR)  NOT NULL , 
     INV_CTY_SYMBOL            VARCHAR2 (15 CHAR)  NOT NULL , 
     INV_LATEST_PRICE_DATETIME DATE  NOT NULL , 
     INV_AVG_SPREAD            NUMBER (10,4) , 
     INV_AVG_BID_PRICE         NUMBER (10,4) , 
     INV_LOAD_PRIORITY         NUMBER (10) , 
     INV_LOAD_STATUS           VARCHAR2 (100 CHAR) , 
     INV_LOAD_PRICES           VARCHAR2 (1 CHAR) , 
     INV_LOAD_DIVS             VARCHAR2 (1 CHAR) , 
     INV_LOAD_EARNINGS         VARCHAR2 (2 CHAR) , 
     INV_LOAD_STREAKS          VARCHAR2 (1 CHAR) , 
     INV_LOAD_EARLYAM          VARCHAR2 (1 CHAR) 
    ) 
;
CREATE INDEX AVA.INV_EXC_FK_IDX ON IMS_INVESTMENTS 
    ( 
     INV_EXC_SYMBOL ASC 
    ) 
;
CREATE UNIQUE INDEX AVA.INV_PK_IDX ON IMS_INVESTMENTS 
    ( 
     INV_TICKER ASC 
    ) 
;
CREATE INDEX AVA.INV_SEC_FK_IDX ON IMS_INVESTMENTS 
    ( 
     INV_SEC_NAME ASC 
    ) 
;
CREATE INDEX INV_LOAD_STATUS_IDX ON IMS_INVESTMENTS 
    ( 
     INV_LOAD_STATUS ASC 
    ) 
;
CREATE INDEX INV_LOAD_PRICES_IDX ON IMS_INVESTMENTS 
    ( 
     INV_LOAD_PRICES ASC 
    ) 
;
CREATE INDEX INV_LOAD_DIVS_IDX ON IMS_INVESTMENTS 
    ( 
     INV_LOAD_DIVS ASC 
    ) 
;
CREATE INDEX INV_LOAD_EARNINGS_IDX ON IMS_INVESTMENTS 
    ( 
     INV_LOAD_EARNINGS ASC 
    ) 
;
CREATE INDEX INV_LOAD_STREAKS_IDX ON IMS_INVESTMENTS 
    ( 
     INV_LOAD_STREAKS ASC 
    ) 
;

ALTER TABLE IMS_INVESTMENTS 
    ADD CONSTRAINT INV_PK PRIMARY KEY ( INV_TICKER ) ;

CREATE TABLE IMS_LISTED_TO_NYSE 
    ( 
     LTN_INV_IB_TICKER VARCHAR2 (30 CHAR) , 
     LTN_INV_NAME_TO   VARCHAR2 (100 CHAR) , 
     LTN_INV_NAME_NYSE VARCHAR2 (100 CHAR) 
    ) 
;

CREATE TABLE IMS_LOAD_DONE 
    ( 
     LDO_INV_TICKER      VARCHAR2 (30 CHAR)  NOT NULL , 
     LDO_FREQ_TYPE       VARCHAR2 (45 CHAR)  NOT NULL , 
     LDO_REQ_TYPE        VARCHAR2 (45 CHAR)  NOT NULL , 
     LDO_START_DATETIME  DATE  NOT NULL , 
     LDO_END_DATETIME    DATE  NOT NULL , 
     LDO_DATETIME_LOADED DATE  NOT NULL 
    ) 
;
CREATE INDEX LDO_INV_FK_IDX ON IMS_LOAD_DONE 
    ( 
     LDO_INV_TICKER ASC 
    ) 
;
CREATE UNIQUE INDEX LDO_PK_IDX ON IMS_LOAD_DONE 
    ( 
     LDO_REQ_TYPE ASC , 
     LDO_START_DATETIME ASC , 
     LDO_INV_TICKER ASC , 
     LDO_FREQ_TYPE ASC , 
     LDO_DATETIME_LOADED ASC 
    ) 
;

ALTER TABLE IMS_LOAD_DONE 
    ADD CONSTRAINT LDO_PK PRIMARY KEY ( LDO_REQ_TYPE, LDO_START_DATETIME, LDO_INV_TICKER, LDO_FREQ_TYPE, LDO_DATETIME_LOADED ) ;

CREATE TABLE IMS_LOAD_TODOS 
    ( 
     LTO_INV_TICKER     VARCHAR2 (30 CHAR)  NOT NULL , 
     LTO_START_DATETIME DATE  NOT NULL , 
     LTO_FREQ_TYPE      VARCHAR2 (45 CHAR)  NOT NULL , 
     LTO_REQ_TYPE       VARCHAR2 (45 CHAR)  NOT NULL , 
     LTO_END_DATETIME   DATE  NOT NULL , 
     LTO_STATUS         VARCHAR2 (45 CHAR)  NOT NULL , 
     LTO_PRIORITY       NUMBER (10)  NOT NULL 
    ) 
;
CREATE INDEX LTO_INV_FK_IDX ON IMS_LOAD_TODOS 
    ( 
     LTO_INV_TICKER ASC 
    ) 
;
CREATE UNIQUE INDEX LTO_PK_IDX ON IMS_LOAD_TODOS 
    ( 
     LTO_INV_TICKER ASC , 
     LTO_START_DATETIME ASC , 
     LTO_FREQ_TYPE ASC , 
     LTO_REQ_TYPE ASC 
    ) 
;

ALTER TABLE IMS_LOAD_TODOS 
    ADD CONSTRAINT LTO_PK PRIMARY KEY ( LTO_INV_TICKER, LTO_START_DATETIME, LTO_FREQ_TYPE, LTO_REQ_TYPE ) ;

CREATE TABLE IMS_OVRNGHT_HLDG_DETAILS 
    ( 
     OHD_OHS_ID           NUMBER (10)  NOT NULL , 
     OHD_NUMBER_DAYS      NUMBER (10)  NOT NULL , 
     OHD_PURCHASE_TIME    VARCHAR2 (10 CHAR)  NOT NULL , 
     OHD_PROFIT_THRESHOLD NUMBER (24,4)  NOT NULL , 
     OHD_PROFIT           NUMBER (24,4)  NOT NULL 
    ) 
;
CREATE INDEX OHD_OHS_FK_IDX ON IMS_OVRNGHT_HLDG_DETAILS 
    ( 
     OHD_OHS_ID ASC 
    ) 
;
CREATE UNIQUE INDEX OHD_PK_IDX ON IMS_OVRNGHT_HLDG_DETAILS 
    ( 
     OHD_OHS_ID ASC , 
     OHD_NUMBER_DAYS ASC , 
     OHD_PURCHASE_TIME ASC , 
     OHD_PROFIT_THRESHOLD ASC 
    ) 
;

ALTER TABLE IMS_OVRNGHT_HLDG_DETAILS 
    ADD CONSTRAINT OHD_PK PRIMARY KEY ( OHD_OHS_ID, OHD_NUMBER_DAYS, OHD_PURCHASE_TIME, OHD_PROFIT_THRESHOLD ) ;

CREATE TABLE IMS_OVRNGHT_HLDG_SUMMARIES 
    ( 
     OHS_ID         NUMBER (10)  NOT NULL , 
     OHS_INV_TICKER VARCHAR2 (30 CHAR)  NOT NULL , 
     OHS_START_DATE DATE  NOT NULL , 
     OHS_END_DATE   DATE  NOT NULL , 
     OHS_RUN_DATE   DATE  NOT NULL 
    ) 
;
CREATE INDEX OHS_INV_FK_IDX ON IMS_OVRNGHT_HLDG_SUMMARIES 
    ( 
     OHS_INV_TICKER ASC 
    ) 
;
CREATE UNIQUE INDEX OHS_PK_IDX ON IMS_OVRNGHT_HLDG_SUMMARIES 
    ( 
     OHS_ID ASC 
    ) 
;

ALTER TABLE IMS_OVRNGHT_HLDG_SUMMARIES 
    ADD CONSTRAINT OHS_PK PRIMARY KEY ( OHS_ID ) ;

CREATE TABLE IMS_PRICE_COMPARISON 
    ( 
     PCO_INV_TICKER1 VARCHAR2 (30 CHAR)  NOT NULL , 
     PCO_INV_TICKER2 VARCHAR2 (30 CHAR)  NOT NULL , 
     PCO_DATETIME    DATE  NOT NULL , 
     PCO_PRICE1      NUMBER (15,4) , 
     PCO_PRICE2      NUMBER (15,4) 
    ) 
;
CREATE INDEX PCO_DATE_IDX ON IMS_PRICE_COMPARISON 
    ( 
     PCO_DATETIME ASC 
    ) 
;
CREATE INDEX PCO_INV_FK1_IDX ON IMS_PRICE_COMPARISON 
    ( 
     PCO_INV_TICKER1 ASC 
    ) 
;
CREATE INDEX PCO_INV_FK1_IDXV2 ON IMS_PRICE_COMPARISON 
    ( 
     PCO_INV_TICKER2 ASC 
    ) 
;
CREATE INDEX PCO_PK_IDX ON IMS_PRICE_COMPARISON 
    ( 
     PCO_INV_TICKER1 ASC , 
     PCO_INV_TICKER2 ASC , 
     PCO_DATETIME ASC 
    ) 
;

ALTER TABLE IMS_PRICE_COMPARISON 
    ADD CONSTRAINT PCO_PK PRIMARY KEY ( PCO_INV_TICKER1, PCO_INV_TICKER2, PCO_DATETIME ) ;

CREATE TABLE IMS_SECTORS 
    ( 
     SEC_NAME      VARCHAR2 (50 CHAR)  NOT NULL , 
     SEC_REP_ORDER NUMBER (10)  NOT NULL 
    ) 
;
CREATE UNIQUE INDEX AVA.SEC_PK_IDX ON IMS_SECTORS 
    ( 
     SEC_NAME ASC 
    ) 
;

ALTER TABLE IMS_SECTORS 
    ADD CONSTRAINT SEC_PK PRIMARY KEY ( SEC_NAME ) ;

CREATE TABLE IMS_STREAK_DETAILS 
    ( 
     STD_STS_ID                NUMBER (10)  NOT NULL , 
     STD_STREAK_START_DATETIME DATE  NOT NULL , 
     STD_STREAK_END_DATETIME   DATE  NOT NULL , 
     STD_STREAK_TYPE           VARCHAR2 (4 CHAR)  NOT NULL , 
     STD_START_BID_PRICE       NUMBER (24,4) DEFAULT '0.0000' , 
     STD_START_ASK_PRICE       NUMBER (24,4) DEFAULT '0.0000' , 
     STD_END_BID_PRICE         NUMBER (24,4) DEFAULT '0.0000' , 
     STD_START_SPREAD          NUMBER (24,4) DEFAULT '0.0000' , 
     STD_END_ASK_PRICE         NUMBER (24,4) DEFAULT '0.0000' , 
     STD_END_SPREAD            NUMBER (24,4) DEFAULT '0.0000' , 
     STD_PROFIT                NUMBER (24,4) DEFAULT '0.0000' 
    ) 
;
CREATE UNIQUE INDEX STD_PK_IDX ON IMS_STREAK_DETAILS 
    ( 
     STD_STS_ID ASC , 
     STD_STREAK_START_DATETIME ASC , 
     STD_STREAK_END_DATETIME ASC , 
     STD_STREAK_TYPE ASC 
    ) 
;
CREATE INDEX STD_STS_FK_IDX ON IMS_STREAK_DETAILS 
    ( 
     STD_STS_ID ASC 
    ) 
;

ALTER TABLE IMS_STREAK_DETAILS 
    ADD CONSTRAINT STD_PK PRIMARY KEY ( STD_STS_ID, STD_STREAK_START_DATETIME, STD_STREAK_END_DATETIME, STD_STREAK_TYPE ) ;

CREATE TABLE IMS_STREAK_SUMMARIES 
    ( 
     STS_ID         NUMBER (10)  NOT NULL , 
     STS_INV_TICKER VARCHAR2 (30 CHAR)  NOT NULL , 
     STS_DATE       DATE  NOT NULL , 
     STS_THRESHOLD  NUMBER (24,4)  NOT NULL 
    ) 
;
CREATE INDEX STS_DATE_IDX ON IMS_STREAK_SUMMARIES 
    ( 
     STS_DATE ASC 
    ) 
;
CREATE INDEX STS_INV_FK_IDX ON IMS_STREAK_SUMMARIES 
    ( 
     STS_INV_TICKER ASC 
    ) 
;
CREATE UNIQUE INDEX STS_PK_IDX ON IMS_STREAK_SUMMARIES 
    ( 
     STS_ID ASC 
    ) 
;

ALTER TABLE IMS_STREAK_SUMMARIES 
    ADD CONSTRAINT STS_PK PRIMARY KEY ( STS_ID ) ;

CREATE TABLE IMS_TRADE_OPPS 
    ( 
     TOP_INV_TICKER    VARCHAR2 (30 CHAR)  NOT NULL , 
     TOP_START_DATE    DATE  NOT NULL , 
     TOP_END_DATE      DATE  NOT NULL , 
     TOP_NUM_GOOD_OPPS NUMBER (5) 
    ) 
;
CREATE INDEX TOP_DATES_IDX ON IMS_TRADE_OPPS 
    ( 
     TOP_START_DATE ASC , 
     TOP_END_DATE ASC 
    ) 
;
CREATE INDEX TOP_INV_FK_IDX ON IMS_TRADE_OPPS 
    ( 
     TOP_INV_TICKER ASC 
    ) 
;
CREATE INDEX TOP_PK_IDX ON IMS_TRADE_OPPS 
    ( 
     TOP_INV_TICKER ASC , 
     TOP_START_DATE ASC , 
     TOP_END_DATE ASC 
    ) 
;

ALTER TABLE IMS_TRADE_OPPS 
    ADD CONSTRAINT TOP_PK PRIMARY KEY ( TOP_INV_TICKER, TOP_START_DATE, TOP_END_DATE ) ;

ALTER TABLE IMS_DIVIDENDS 
    ADD CONSTRAINT DIV_INV_FK FOREIGN KEY 
    ( 
     DIV_INV_TICKER
    ) 
    REFERENCES IMS_INVESTMENTS 
    ( 
     INV_TICKER
    ) 
;

ALTER TABLE IMS_EARNINGS 
    ADD CONSTRAINT EAR_INV_FK0 FOREIGN KEY 
    ( 
     EAR_INV_TICKER
    ) 
    REFERENCES IMS_INVESTMENTS 
    ( 
     INV_TICKER
    ) 
;

ALTER TABLE IMS_HIST_MKT_DATA 
    ADD CONSTRAINT HMD_INV_FK FOREIGN KEY 
    ( 
     HMD_INV_TICKER
    ) 
    REFERENCES IMS_INVESTMENTS 
    ( 
     INV_TICKER
    ) 
;

ALTER TABLE IMS_ANALYSIS_RESULTS 
    ADD CONSTRAINT IAR_IAT_FK FOREIGN KEY 
    ( 
     IAR_IAT_TYPE
    ) 
    REFERENCES IMS_ANALYSIS_TYPES 
    ( 
     IAT_TYPE
    ) 
;

ALTER TABLE IMS_ANALYSIS_RESULTS 
    ADD CONSTRAINT IAR_INV_FK FOREIGN KEY 
    ( 
     IAR_INV_TICKER
    ) 
    REFERENCES IMS_INVESTMENTS 
    ( 
     INV_TICKER
    ) 
;

ALTER TABLE IMS_INVESTMENTS 
    ADD CONSTRAINT INV_CTY_FK FOREIGN KEY 
    ( 
     INV_CTY_SYMBOL
    ) 
    REFERENCES IMS_CURRENCY_TYPES 
    ( 
     CTY_SYMBOL
    ) 
;

ALTER TABLE IMS_INVESTMENTS 
    ADD CONSTRAINT INV_EXC_FK FOREIGN KEY 
    ( 
     INV_EXC_SYMBOL
    ) 
    REFERENCES IMS_EXCHANGES 
    ( 
     EXC_SYMBOL
    ) 
;

ALTER TABLE IMS_INVESTMENTS 
    ADD CONSTRAINT INV_SEC_FK FOREIGN KEY 
    ( 
     INV_SEC_NAME
    ) 
    REFERENCES IMS_SECTORS 
    ( 
     SEC_NAME
    ) 
;

ALTER TABLE IMS_LOAD_DONE 
    ADD CONSTRAINT LDO_INV_FK FOREIGN KEY 
    ( 
     LDO_INV_TICKER
    ) 
    REFERENCES IMS_INVESTMENTS 
    ( 
     INV_TICKER
    ) 
;

ALTER TABLE IMS_LOAD_TODOS 
    ADD CONSTRAINT LTO_INV_FK FOREIGN KEY 
    ( 
     LTO_INV_TICKER
    ) 
    REFERENCES IMS_INVESTMENTS 
    ( 
     INV_TICKER
    ) 
;

ALTER TABLE IMS_OVRNGHT_HLDG_DETAILS 
    ADD CONSTRAINT OHD_OHS_FK FOREIGN KEY 
    ( 
     OHD_OHS_ID
    ) 
    REFERENCES IMS_OVRNGHT_HLDG_SUMMARIES 
    ( 
     OHS_ID
    ) 
;

ALTER TABLE IMS_OVRNGHT_HLDG_SUMMARIES 
    ADD CONSTRAINT OHS_INV_FK FOREIGN KEY 
    ( 
     OHS_INV_TICKER
    ) 
    REFERENCES IMS_INVESTMENTS 
    ( 
     INV_TICKER
    ) 
;

ALTER TABLE IMS_PRICE_COMPARISON 
    ADD CONSTRAINT PCO_INV_FK2 FOREIGN KEY 
    ( 
     PCO_INV_TICKER2
    ) 
    REFERENCES IMS_INVESTMENTS 
    ( 
     INV_TICKER
    ) 
;

ALTER TABLE IMS_STREAK_DETAILS 
    ADD CONSTRAINT STD_STS_FK FOREIGN KEY 
    ( 
     STD_STS_ID
    ) 
    REFERENCES IMS_STREAK_SUMMARIES 
    ( 
     STS_ID
    ) 
;

ALTER TABLE IMS_STREAK_SUMMARIES 
    ADD CONSTRAINT STS_INV_FK FOREIGN KEY 
    ( 
     STS_INV_TICKER
    ) 
    REFERENCES IMS_INVESTMENTS 
    ( 
     INV_TICKER
    ) 
;

ALTER TABLE IMS_TRADE_OPPS 
    ADD CONSTRAINT TOP_INV_FK FOREIGN KEY 
    ( 
     TOP_INV_TICKER
    ) 
    REFERENCES IMS_INVESTMENTS 
    ( 
     INV_TICKER
    ) 
;

CREATE SEQUENCE IMS_OVRNGHT_HLDG_SUMMARIES_OHS 
START WITH 1 
    NOCACHE 
    ORDER ;

CREATE OR REPLACE TRIGGER OHS_PRE_INSERT 
BEFORE INSERT ON IMS_OVRNGHT_HLDG_SUMMARIES 
FOR EACH ROW 
WHEN (NEW.OHS_ID IS NULL) 
BEGIN 
    :NEW.OHS_ID := IMS_OVRNGHT_HLDG_SUMMARIES_OHS.NEXTVAL; 
END;
/

CREATE SEQUENCE IMS_STREAK_SUMMARIES_STS_ID 
START WITH 1 
    NOCACHE 
    ORDER ;

CREATE OR REPLACE TRIGGER STS_PRE_INSERT 
BEFORE INSERT ON IMS_STREAK_SUMMARIES 
FOR EACH ROW 
WHEN (NEW.STS_ID IS NULL) 
BEGIN 
    :NEW.STS_ID := IMS_STREAK_SUMMARIES_STS_ID.NEXTVAL; 
END;
/



-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                            18
-- CREATE INDEX                            41
-- ALTER TABLE                             33
-- CREATE VIEW                              0
-- ALTER VIEW                               0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           2
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          2
-- CREATE MATERIALIZED VIEW                 0
-- CREATE MATERIALIZED VIEW LOG             0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- REDACTION POLICY                         0
-- 
-- ORDS DROP SCHEMA                         0
-- ORDS ENABLE SCHEMA                       0
-- ORDS ENABLE OBJECT                       0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0
